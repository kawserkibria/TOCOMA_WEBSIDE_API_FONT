#pragma checksum "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "a5db0c1d152b92f8045b2b54b1f8a1e21df91a6c"
// <auto-generated/>
#pragma warning disable 1591
namespace TOCOMA_ERP_System.Pages.Project
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_ClassLibrary.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Blazored.Toast;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System.Controller;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.ProtectedBrowserStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Hosting;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.LayoutAttribute(typeof(CustomLayout))]
    [Microsoft.AspNetCore.Components.RouteAttribute("/PurchaseforProject")]
    public partial class PurchaseforProject : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, @"<style>
    tbody tr td {
        /*border: none;*/
    }

    text {
        border: none;
        background-color: transparent;
        resize: none;
        outline: none;
    }

    table {
        border-collapse: collapse;
        margin: auto;
        /*background-color: #A4A4A4;*/
        /*border: 2px solid black;*/
        padding: 0;
    }

        table td {
            position: relative;
            text-align: center;
            /*border: 2px solid green;*/
            padding: 0;
            margin: 0;
        }
    /*tr td:hover {
        background-color: #ffff99;
    }*/
    /*hovertable :hover {
        background-color: #ffff99;
    }*/
     tbody tr td:hover {
        background-color: #ffff99;
    }
</style>
");
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "container");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "card");
            __builder.AddMarkupContent(5, "<div class=\"card-header\"><h4>Purchase</h4></div>\r\n        ");
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", "testbox");
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "form");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "row");
            __builder.AddMarkupContent(12, "<div class=\"col-25\"><label for=\"fname\">Voucher No:</label></div>\r\n                    ");
            __builder.OpenElement(13, "div");
            __builder.AddAttribute(14, "class", "col-75");
            __builder.OpenElement(15, "input");
            __builder.AddAttribute(16, "type", "text");
            __builder.AddAttribute(17, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 56 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                         voucherNo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => voucherNo = __value, voucherNo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(19, "\r\n                ");
            __builder.OpenElement(20, "div");
            __builder.AddAttribute(21, "class", "row");
            __builder.AddMarkupContent(22, "<div class=\"col-25\"><label>Purchase Date:</label></div>\r\n                    ");
            __builder.OpenElement(23, "div");
            __builder.AddAttribute(24, "class", "col-75");
            __builder.OpenElement(25, "input");
            __builder.AddAttribute(26, "type", "date");
            __builder.AddAttribute(27, "id", "today");
            __builder.AddAttribute(28, "value", 
#nullable restore
#line 64 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                              currentDate

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(29, "format-value", "dd-MM-yyyy");
            __builder.AddAttribute(30, "style", "width:200px");
            __builder.AddAttribute(31, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 64 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                    GetDate

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n                ");
            __builder.OpenElement(33, "div");
            __builder.AddAttribute(34, "class", "row");
            __builder.AddMarkupContent(35, "<div class=\"col-25\"><label for=\"fname\">Supplier:</label></div>\r\n                    ");
            __builder.OpenElement(36, "div");
            __builder.AddAttribute(37, "class", "col-75");
            __builder.AddAttribute(38, "style", "display: inline-block;");
            __builder.OpenElement(39, "input");
            __builder.AddAttribute(40, "type", "text");
            __builder.AddAttribute(41, "data-toggle", "modal");
            __builder.AddAttribute(42, "data-target", ".bd-example-modal-lgvendor");
            __builder.AddAttribute(43, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 72 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                  SupplierNameClicked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(44, "value", 
#nullable restore
#line 72 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                               supplierName

#line default
#line hidden
#nullable disable
            );
            __builder.AddElementReferenceCapture(45, (__value) => {
#nullable restore
#line 72 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                                                   myref = __value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(46, "\r\n                ");
            __builder.OpenElement(47, "div");
            __builder.AddAttribute(48, "class", "row");
            __builder.AddMarkupContent(49, "<div class=\"col-25\"><label for=\"fname\">Dept. Name:</label></div>\r\n                    ");
            __builder.OpenElement(50, "div");
            __builder.AddAttribute(51, "class", "col-75");
            __builder.OpenElement(52, "input");
            __builder.AddAttribute(53, "type", "text");
            __builder.AddAttribute(54, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 82 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                         BranchName

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(55, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => BranchName = __value, BranchName));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(56, "\r\n\r\n                <br>\r\n\r\n                <br>\r\n                ");
            __builder.OpenElement(57, "table");
            __builder.AddAttribute(58, "width", "100%");
            __builder.AddMarkupContent(59, @"<thead><tr><td colspan=""2"" style=""width:50%"">Item Name</td>
                            <td style=""width:10%"">Unit</td>
                            <td style=""width:10%"">QTY.</td>
                            <td style=""width:10%"">Rate</td>
                            <td style=""width:15%"">Total</td>
                            <td style=""width:5%""></td></tr></thead>
                    ");
            __builder.OpenElement(60, "tbody");
#nullable restore
#line 102 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                         if (visibletext != 1)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(61, "tr");
            __builder.OpenElement(62, "td");
            __builder.AddAttribute(63, "colspan", "2");
            __builder.OpenElement(64, "input");
            __builder.AddAttribute(65, "type", "text");
            __builder.AddAttribute(66, "class", "form-control");
            __builder.AddAttribute(67, "data-toggle", "modal");
            __builder.AddAttribute(68, "data-target", ".bd-example-modal-lg");
            __builder.AddAttribute(69, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 107 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                             ItemNameClicked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(70, "value", 
#nullable restore
#line 107 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                                                      itemName

#line default
#line hidden
#nullable disable
            );
            __builder.AddElementReferenceCapture(71, (__value) => {
#nullable restore
#line 107 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                                                                      myref = __value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseElement();
#nullable restore
#line 109 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                     if (bankStatus == 1)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(72, "table");
            __builder.AddAttribute(73, "width", "100%");
            __builder.OpenElement(74, "tr");
            __builder.OpenElement(75, "td");
            __builder.OpenElement(76, "input");
            __builder.AddAttribute(77, "class", "form-control");
            __builder.AddAttribute(78, "type", "text");
            __builder.AddAttribute(79, "placeholder", "chaque no.");
            __builder.AddAttribute(80, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 113 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                          chequeNo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(81, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => chequeNo = __value, chequeNo));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(82, "\r\n                                                ");
            __builder.OpenElement(83, "td");
            __builder.OpenElement(84, "input");
            __builder.AddAttribute(85, "class", "form-control");
            __builder.AddAttribute(86, "type", "date");
            __builder.AddAttribute(87, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 114 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                       GetChequeDate

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(88, "\r\n                                                ");
            __builder.OpenElement(89, "td");
            __builder.OpenElement(90, "input");
            __builder.AddAttribute(91, "class", "form-control");
            __builder.AddAttribute(92, "type", "text");
            __builder.AddAttribute(93, "placeholder", "drawn on");
            __builder.AddAttribute(94, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 115 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                 drawnon

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(95, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => drawnon = __value, drawnon));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 118 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(96, "\r\n                                ");
            __builder.OpenElement(97, "td");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(98);
            __builder.AddAttribute(99, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 122 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                      itemdetails

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(100, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __Blazor.TOCOMA_ERP_System.Pages.Project.PurchaseforProject.TypeInference.CreateInputSelect_0(__builder2, 101, 102, "form-control", 103, 
#nullable restore
#line 123 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                   unitId

#line default
#line hidden
#nullable disable
                , 104, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => unitId = __value, unitId)), 105, () => unitId, 106, (__builder3) => {
                    __builder3.AddMarkupContent(107, "<option>--Unit--</option>");
#nullable restore
#line 125 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                             foreach (var item in unitList)
                                            {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(108, "option");
                    __builder3.AddAttribute(109, "value", 
#nullable restore
#line 127 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                item.UNIT_ID

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddContent(110, 
#nullable restore
#line 127 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                               item.UNIT_NAME

#line default
#line hidden
#nullable disable
                    );
                    __builder3.CloseElement();
#nullable restore
#line 128 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                            }

#line default
#line hidden
#nullable disable
                }
                );
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(111, "\r\n                                ");
            __builder.OpenElement(112, "td");
            __builder.OpenElement(113, "input");
            __builder.AddAttribute(114, "class", "form-control");
            __builder.AddAttribute(115, "onkeyup", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 136 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                        DoTheThing

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(116, "style", "margin-top:10px");
            __builder.AddAttribute(117, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 136 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                             Qty

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(118, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => Qty = __value, Qty));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(119, "\r\n                                ");
            __builder.OpenElement(120, "td");
            __builder.OpenElement(121, "input");
            __builder.AddAttribute(122, "class", "form-control");
            __builder.AddAttribute(123, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 137 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                             rateClicked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(124, "onkeyup", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 137 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                    DoTheThing

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(125, "style", "margin-top:10px");
            __builder.AddAttribute(126, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 137 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                             Rate

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(127, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => Rate = __value, Rate));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(128, "\r\n                                ");
            __builder.OpenElement(129, "td");
            __builder.OpenElement(130, "input");
            __builder.AddAttribute(131, "class", "form-control");
            __builder.AddAttribute(132, "onkeyup", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.KeyboardEventArgs>(this, 
#nullable restore
#line 138 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                DoTheThing

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(133, "style", "margin-top:10px");
            __builder.AddAttribute(134, "disabled", 
#nullable restore
#line 138 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                                                               isCrDisable

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(135, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 138 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                             totalAmount

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(136, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => totalAmount = __value, totalAmount));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(137, "\r\n                                <td></td>");
            __builder.CloseElement();
#nullable restore
#line 141 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"

                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 143 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                         foreach (var item in voucherItemList)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(138, "tr");
            __builder.AddAttribute(139, "style", "font-size:13px");
            __builder.OpenElement(140, "td");
            __builder.AddAttribute(141, "colspan", "2");
            __builder.AddAttribute(142, "style", "width:50%;height:20px");
            __builder.AddContent(143, 
#nullable restore
#line 146 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                               item.ITEM_NAME

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(144, "\r\n                                ");
            __builder.OpenElement(145, "td");
            __builder.AddAttribute(146, "style", "width:10%;height:20px");
            __builder.AddContent(147, 
#nullable restore
#line 147 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                   item.UOM

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(148, "\r\n                                ");
            __builder.OpenElement(149, "td");
            __builder.AddAttribute(150, "style", "width:10% ;height:20px");
            __builder.AddContent(151, 
#nullable restore
#line 148 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                    item.QUANTITY

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(152, "\r\n                                ");
            __builder.OpenElement(153, "td");
            __builder.AddAttribute(154, "style", "width:10%;height:20px");
            __builder.AddContent(155, 
#nullable restore
#line 149 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                   item.UNIT_PRICE

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(156, "\r\n                                ");
            __builder.OpenElement(157, "td");
            __builder.AddAttribute(158, "style", "width:15%;height:20px");
            __builder.AddContent(159, 
#nullable restore
#line 150 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                   item.TOTAL_AMOUNT

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(160, "\r\n                                ");
            __builder.OpenElement(161, "td");
            __builder.OpenElement(162, "a");
            __builder.AddAttribute(163, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 151 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                  () => DeleteItem(item.ITEM_NAME)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(164, "<span class=\"oi oi-delete\"></span>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 153 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(165, "\r\n\r\n                    ");
            __builder.OpenElement(166, "tr");
            __builder.AddMarkupContent(167, "<td colspan=\"4\" style=\"text-align:right\">Transport cost</td>\r\n                        ");
            __builder.OpenElement(168, "td");
            __builder.OpenElement(169, "input");
            __builder.AddAttribute(170, "type", "text");
            __builder.AddAttribute(171, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 158 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                         TransportClicked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(172, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 158 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                         transport_cost

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(173, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => transport_cost = __value, transport_cost));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(174, "\r\n                        <td rowspan=\"4\"></td>");
            __builder.CloseElement();
            __builder.AddMarkupContent(175, "\r\n                    ");
            __builder.OpenElement(176, "tr");
            __builder.AddMarkupContent(177, "<td colspan=\"4\" style=\"text-align:right\">Labour Cost</td>\r\n                        ");
            __builder.OpenElement(178, "td");
            __builder.OpenElement(179, "input");
            __builder.AddAttribute(180, "type", "text");
            __builder.AddAttribute(181, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 163 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                         LabourClicked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(182, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 163 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                      labour_cost

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(183, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => labour_cost = __value, labour_cost));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(184, "\r\n                    ");
            __builder.OpenElement(185, "tr");
            __builder.AddMarkupContent(186, "<td colspan=\"4\" style=\"text-align:right\">Others</td>\r\n                        ");
            __builder.OpenElement(187, "td");
            __builder.OpenElement(188, "input");
            __builder.AddAttribute(189, "type", "text");
            __builder.AddAttribute(190, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 167 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                         OthersClicked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(191, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 167 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                      others_cost

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(192, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => others_cost = __value, others_cost));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(193, "\r\n                    ");
            __builder.OpenElement(194, "tr");
            __builder.AddMarkupContent(195, "<td colspan=\"4\" style=\"text-align:right\"><b>Grand Total</b></td>\r\n                        ");
            __builder.OpenElement(196, "td");
            __builder.OpenElement(197, "input");
            __builder.AddAttribute(198, "type", "text");
            __builder.AddAttribute(199, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 171 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                             GrandTotal

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(200, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => GrandTotal = __value, GrandTotal));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(201, "\r\n        ");
            __builder.OpenElement(202, "div");
            __builder.AddAttribute(203, "class", "btn-block");
            __builder.OpenElement(204, "button");
            __builder.AddAttribute(205, "type", "button");
            __builder.AddAttribute(206, "style", "width:90px");
            __builder.AddAttribute(207, "class", "btn btn-danger");
            __builder.AddAttribute(208, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 179 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                      CloseClicked

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(209, "Cancel");
            __builder.CloseElement();
            __builder.AddMarkupContent(210, "\r\n            ");
            __builder.OpenElement(211, "button");
            __builder.AddAttribute(212, "type", "submit");
            __builder.AddAttribute(213, "style", "width:120px;margin-left:10px");
            __builder.AddAttribute(214, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 180 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                  SavePaymentVoucher

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(215, "Save");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(216, "\r\n\r\n\r\n");
            __builder.OpenElement(217, "div");
            __builder.AddAttribute(218, "class", "modal fade bd-example-modal-lg");
            __builder.AddAttribute(219, "tabindex", "-1");
            __builder.AddAttribute(220, "role", "dialog");
            __builder.AddAttribute(221, "aria-labelledby", "myLargeModalLabel");
            __builder.AddAttribute(222, "aria-hidden", "true");
            __builder.OpenElement(223, "div");
            __builder.AddAttribute(224, "class", "modal-dialog modal-lg");
            __builder.OpenElement(225, "div");
            __builder.AddAttribute(226, "class", "modal-content");
            __builder.AddMarkupContent(227, @"<div class=""modal-header""><h4 class=""p-2""><img src=""images/fountain-pen.png"" alt width=""50"" height=""50"" class=""mr-3""><span class=""text-uppercase"">Item List</span></h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close""><span aria-hidden=""true"">&times;</span></button></div>
            ");
            __builder.OpenElement(228, "div");
            __builder.AddAttribute(229, "class", "modal-body");
            __builder.OpenElement(230, "table");
            __builder.AddAttribute(231, "class", "table-hover");
            __builder.OpenElement(232, "tbody");
#nullable restore
#line 203 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                         foreach (var item in itemNameList)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(233, "tr");
            __builder.OpenElement(234, "td");
            __builder.AddAttribute(235, "style", "text-align: left; cursor: pointer");
            __builder.AddAttribute(236, "class", "form-control");
            __builder.AddAttribute(237, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 206 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                              () => SelectItem(item.ITEM_NAME)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(238, "data-dismiss", "modal");
            __builder.AddContent(239, 
#nullable restore
#line 206 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                                                      item.ITEM_NAME

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(240, "\r\n                                ");
            __builder.OpenElement(241, "td");
            __builder.AddAttribute(242, "style", "width:25px");
            __builder.AddContent(243, 
#nullable restore
#line 207 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                        item.UOM

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 209 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(244, "\r\n");
            __builder.OpenElement(245, "div");
            __builder.AddAttribute(246, "class", "modal fade bd-example-modal-lgvendor");
            __builder.AddAttribute(247, "tabindex", "-1");
            __builder.AddAttribute(248, "role", "dialog");
            __builder.AddAttribute(249, "aria-labelledby", "myLargeModalLabel");
            __builder.AddAttribute(250, "aria-hidden", "true");
            __builder.OpenElement(251, "div");
            __builder.AddAttribute(252, "class", "modal-dialog modal-lg");
            __builder.OpenElement(253, "div");
            __builder.AddAttribute(254, "class", "modal-content");
            __builder.AddMarkupContent(255, @"<div class=""modal-header""><h4 class=""p-2""><span class=""text-uppercase"">Supplier List</span></h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close""><span aria-hidden=""true"">&times;</span></button></div>
            ");
            __builder.OpenElement(256, "div");
            __builder.AddAttribute(257, "class", "modal-body");
            __builder.OpenElement(258, "table");
            __builder.OpenElement(259, "tbody");
#nullable restore
#line 231 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                         foreach (var item in vendorList)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(260, "tr");
            __builder.OpenElement(261, "td");
            __builder.AddAttribute(262, "style", "text-align:left;cursor:pointer");
            __builder.AddAttribute(263, "class", "form-control hovertable");
            __builder.AddAttribute(264, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 234 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                      () => SelectSupplierItem(item.VENDOR_NAME)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(265, "data-dismiss", "modal");
            __builder.AddContent(266, 
#nullable restore
#line 234 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                                                                                                                                                                                        item.VENDOR_NAME

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 236 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 245 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Project\PurchaseforProject.razor"
       
    PurchaseOrderModel porderModel = new PurchaseOrderModel();
    List<VendorEntity> vendorList = new List<VendorEntity>();
    List<UnitModel> unitList = new List<UnitModel>();

    string vendor_name;
    LedgerModel ledger = new LedgerModel();
    List<ItemEntity> itemNameList = new List<ItemEntity>();
    List<BranchModel> branchList = new List<BranchModel>();
    string MyProperty;
    List<string> itemList = new List<string>();
    List<CountryModel> countryList = new List<CountryModel>();
    private PurchaseOrderDetailsEntity SelectedArticle;
    private string newTodo;
    List<PurchaseOrderDetailsEntity> voucherItemList = new List<PurchaseOrderDetailsEntity>();
    PurchaseOrderDetailsEntity itemdetails = new PurchaseOrderDetailsEntity();
    VoucherItem paymentvoucher = new VoucherItem();
    ACC_COMPANY_VOUCHER_MODEL accCompanyVoucherModel = new ACC_COMPANY_VOUCHER_MODEL();
    List<PurchaseOrderDetailsEntity> paymentVoucherDetails = new List<PurchaseOrderDetailsEntity>();
    ACC_VOUCHER_MODEL voucherDetails = new ACC_VOUCHER_MODEL();
    string voucherNo;

    decimal amount;
    string KeyPressed = "";
    public string Value { get; set; }
    public string MyDrValue { get; set; }
    public string MyCrValue { get; set; }

    double Qty { get; set; }
    decimal Rate { get; set; }
    public decimal totalAmount { get; set; }

    private ElementReference myref;
    private ElementReference myDr_ref;
    private ElementReference myCr_ref;
    private ElementReference narrationref;
    private bool isDrDisable { get; set; }
    private bool isCrDisable { get; set; }
    decimal totalDebit;
    decimal totalCredit;
    int visibletext;
    string BranchName;
    string voucherDate;
    string narration;
    int bankStatus = 0;
    List<string> templates = new List<string>() { "Maui", "Hawaii", "Niihau", "Kauai", "Kahoolawe" };
    string SelectedString = "Maui";
    string parent;
    string chequeNo;
    string drawnon;
    string voucherChequedate = "";
    string currentDate;
    string selected_date;
    string itemName;
    string supplierName;
    decimal GrandTotal;
    decimal transport_cost;
    decimal labour_cost;
    decimal others_cost;
    string unitName;
    int unitId;



    protected override async Task OnInitializedAsync()
    {
        MyProperty = "Dr";
        onDisable(MyProperty);
        accCompanyVoucherModel.COMP_REF_NO = await Http.GetStringAsync(Utility.BaseUrl + "api/Transection/GetVoucherNo/" + 1);
        //await GetCountry();
        await GetLedger();
        //await GetBranch();
        itemNameList = await Http.GetJsonAsync<List<ItemEntity>>(Utility.BaseUrl + "api/Product/GetProjectItem");
        unitList = await Http.GetJsonAsync<List<UnitModel>>(Utility.BaseUrl + "api/Setup/GetUnit");
        vendorList = await Http.GetJsonAsync<List<VendorEntity>>(Utility.BaseUrl + "api/Vendor");
        currentDate = System.DateTime.Now.Year + "-" + (System.DateTime.Now.Month).ToString().PadLeft(2, '0') + "-" + System.DateTime.Now.Day.ToString().PadLeft(2, '0');
        //currentDate = System.DateTime.Now.Day.ToString().PadLeft(2, '0')+"/"+ (System.DateTime.Now.Month).ToString().PadLeft(2, '0') + System.DateTime.Now.Year ;
        StateHasChanged();

    }
    async void selectedledger(ChangeEventArgs e)
    {
        SelectedString = e.Value.ToString();
        if (SelectedString == "Bank Accounts") { bankStatus = 1; }
        else { bankStatus = 0; }
        if (MyProperty == "Dr")
        { await myDr_ref.FocusAsync(); }
        else if (MyProperty == "Cr")
        { await myCr_ref.FocusAsync(); }
    }
    public async Task GetBranch()
    {
        branchList = await Http.GetJsonAsync<List<BranchModel>>(Utility.BaseUrl + "api/Setup/GetBranchList");
        if (branchList.Count > 0)
        { BranchName = branchList.FirstOrDefault().BRANCH_NAME; }


    }
    private async Task GetLedger()
    {
        //ledgerList = await Http.GetJsonAsync<List<LedgerModel>>(Utility.BaseUrl + "api/Setup/GetLedger");
    }
    //private async Task GetCountry()
    //{
    //    countryList = await Http.GetJsonAsync<List<CountryModel>>(Utility.BaseUrl + "api/Setup/GetCountry");
    //}
    private void ItemNameClicked(ChangeEventArgs changeEventArgs)
    {
        itemName = changeEventArgs.Value.ToString();
    }
    private void SupplierNameClicked(ChangeEventArgs changeEventArgs)
    {
        supplierName = changeEventArgs.Value.ToString();
    }
    private void rateClicked(ChangeEventArgs changeEventArgs)
    {
        //double sum = requestItemList.Sum(x => Convert.ToDouble(x.Quantity) * Convert.ToDouble(x.Rate));
        //finaltotal = finaltotal + Convert.ToDouble(changeEventArgs.Value.ToString());
        if (changeEventArgs.Value.ToString() != "") { Rate = Convert.ToDecimal(changeEventArgs.Value.ToString()); }
        else { Rate = 0; }
        totalAmount = Convert.ToDecimal(Convert.ToDecimal(Qty) * Convert.ToDecimal(Rate));
        //GetTotal();
        //ADJ = Convert.ToDouble(changeEventArgs.Value.ToString());
    }
    private void TransportClicked(ChangeEventArgs changeEventArgs)
    {
        //double sum = requestItemList.Sum(x => Convert.ToDouble(x.Quantity) * Convert.ToDouble(x.Rate));
        //finaltotal = finaltotal + Convert.ToDouble(changeEventArgs.Value.ToString());
        if (changeEventArgs.Value.ToString() != "") { transport_cost = Convert.ToDecimal(changeEventArgs.Value.ToString()); }
        else { transport_cost = 0; }
        GetTotal();
        //ADJ = Convert.ToDouble(changeEventArgs.Value.ToString());
    }
    private void LabourClicked(ChangeEventArgs changeEventArgs)
    {
        if (changeEventArgs.Value.ToString() != "") { labour_cost = Convert.ToDecimal(changeEventArgs.Value.ToString()); }
        else { labour_cost = 0; }
        GetTotal();
    }
    private void OthersClicked(ChangeEventArgs changeEventArgs)
    {
        if (changeEventArgs.Value.ToString() != "") { others_cost = Convert.ToDecimal(changeEventArgs.Value.ToString()); }
        else { others_cost = 0; }
        GetTotal();
    }
    private void GetTotal()
    {
        //if(AIT== 0 && VAT==0 && ADJ==0)
        //{ finaltotal = requestItemList.Sum(x => Convert.ToDouble(x.Quantity) * Convert.ToDouble(x.Rate)); }
        //finaltotal = requestItemList.Sum(x => Convert.ToDouble(x.Quantity) * Convert.ToDouble(x.Rate));

        //if (Rate !="")
        //{
        //    totalAmount = Convert.ToDecimal(Convert.ToDecimal(Qty)* Convert.ToDecimal(Rate));
        //}

        //if (VAT != 0)
        //{ finaltotal = finaltotal + VAT; }
        //if (ADJ != 0)
        //{ finaltotal = finaltotal + ADJ; }
        //if (SeaFreight != 0)
        //{ finaltotal = finaltotal + SeaFreight; }
        //double inwordValue = Convert.ToDouble(finaltotal);
        // Inwords = NumberToWords.ConvertAmount(inwordValue);
        //else { finaltotal = requestItemList.Sum(x => Convert.ToDouble(x.Quantity) * Convert.ToDouble(x.Rate)); }
        decimal t = voucherItemList.Sum(x => Convert.ToDecimal(x.QUANTITY) * Convert.ToDecimal(x.UNIT_PRICE));
        GrandTotal = t + transport_cost + labour_cost + others_cost;

    }

    private async Task<IEnumerable<ItemEntity>> SearchLedger(string searchText)
    {


        return await Task.FromResult(itemNameList.Where(x => x.ITEM_NAME.ToLower().Contains(searchText.ToLower())).ToList());

        //return await Task.FromResult(ledgerList);
    }
    //private async Task<IEnumerable<LedgerModel>> KeyPressLedger(string searchText)
    //{
    //    //return await Task.FromResult(ledgerList.Where(x => x.LEDGER_NAME.ToLower().Contains(searchText.ToLower())).ToList());


    //}

    public async Task SavePaymentVoucher()
    {
        //if (IsValidation() != true)
        //{
        //bool exists = voucherItemList.Exists(x => x.ITEM_NAME == "Cr");
        //if (exists != true)
        //{
        //    toastService.ShowWarning("Please Add Credit Info In List");
        //    return;
        //}
        if (voucherNo == "")
        {
            toastService.ShowWarning("Please Add Voucher No.");
            return;
        }
        else
        {
            if (!await jsruntime.InvokeAsync<bool>("confirm", $"Do you want to save ?"))
                return;


            try
            {

                if (selected_date == "" || selected_date == null)
                { porderModel.PO_DATE = Convert.ToDateTime(currentDate).Day.ToString().PadLeft(2, '0')+"/"+ Convert.ToDateTime(currentDate).Month.ToString().PadLeft(2, '0') + "/" + Convert.ToDateTime(currentDate).Year; }

                //accCompanyVoucherModel.BRANCH_ID = branchList.Find(x => x.BRANCH_NAME == BranchName).BRANCH_ID;
                //accCompanyVoucherModel.LEDGER_NAME = voucherItemList.FirstOrDefault().particular;
                porderModel.BUSINESS_ID = 2;
                porderModel.VOUCHER_NO = voucherNo;
                porderModel.VENDOR_NAME = supplierName;
                porderModel.DEPARTMENT_NAME = BranchName;
                porderModel.CARRING_WAY_COST = transport_cost;
                porderModel.LABOUR_COST = labour_cost;
                porderModel.OTHERS_COST = others_cost;
                porderModel.GRAND_TOTAL = Convert.ToDouble(GrandTotal);




                if (voucherItemList != null)
                {
                    foreach (var item in voucherItemList)
                    {
                        itemdetails = new PurchaseOrderDetailsEntity();
                        //itemdetails.PO_NUMBER_LONG_CODE = voucherNo;
                        itemdetails.ITEM_NAME = item.ITEM_NAME;
                        itemdetails.UNIT_ID = item.UNIT_ID;
                        itemdetails.QUANTITY = item.QUANTITY;
                        itemdetails.UNIT_PRICE = item.UNIT_PRICE;
                        itemdetails.TOTAL_AMOUNT = item.TOTAL_AMOUNT;

                        //voucherDetails.LEDGER_NAME = item.particular;
                        //voucherDetails.VOUCHER_DEBIT_AMOUNT = item.debitAmount;
                        //voucherDetails.VOUCHER_CREDIT_AMOUNT = item.creditAmount;
                        //voucherDetails.VOUCHER_ADD_AMOUNT = item.creditAmount;
                        //voucherDetails.VOUCHER_LESS_AMOUNT = item.creditAmount;
                        //voucherDetails.VOUCHER_TOBY = item.symbol;
                        //voucherDetails.VOUCHER_FC_DEBIT_AMOUNT = 0;
                        //voucherDetails.VOUCHER_FC_CREDIT_AMOUNT = 0;
                        //if (item.ChequeNo != "" && item.ChequeNo != null && item.ChequeNo != "NULL")
                        //{
                        //    voucherDetails.VOUCHER_CHEQUE_NUMBER = item.ChequeNo;
                        //    voucherDetails.VOUCHER_CHEQUE_DATE = item.ChequeDate;
                        //    voucherDetails.VOUCHER_CHEQUE_DRAWN_ON = item.DrawnOn;
                        //}
                        //paymentVoucherDetails.Add(itemdetails);
                        if (porderModel.pOrderDetailsList == null)
                        { porderModel.pOrderDetailsList = new List<PurchaseOrderDetailsEntity>(); }
                        porderModel.pOrderDetailsList.Add(itemdetails);
                    }
                    //var voucher = await Http.PostJsonAsync<List<ACC_VOUCHER_MODEL>>(Utility.BaseUrl + "api/Transection/AddPaymentVoucherDetails", paymentVoucherDetails);
                    var data = await Http.PostJsonAsync<PurchaseOrderModel>(Utility.BaseUrl + "api/Purchase/AddPurchaseForProject", porderModel);
                    toastService.ShowSuccess("Save Successfully!!!");
                    //if (data.status == true)
                    //{
                    //    toastService.ShowSuccess("Save Successfully!!!");
                    //    await LoadPage();
                    //}
                    //else { toastService.ShowError("Not Save : " + data.ErrorMessage); }
                    voucherItemList = new List<PurchaseOrderDetailsEntity>();
                    porderModel = new PurchaseOrderModel();
                    porderModel.pOrderDetailsList = new List<PurchaseOrderDetailsEntity>();
                    voucherNo = "";
                    currentDate = System.DateTime.Now.Year + "-" + (System.DateTime.Now.Month).ToString().PadLeft(2, '0') + "-" + System.DateTime.Now.Day.ToString().PadLeft(2, '0');
                }
                else
                {
                    toastService.ShowWarning("No Item For Purchase!");
                }
            }

            catch (Exception ex)
            {
                voucherItemList = new List<PurchaseOrderDetailsEntity>();
                porderModel = new PurchaseOrderModel();
                porderModel.pOrderDetailsList = new List<PurchaseOrderDetailsEntity>();
            }
        }


    }
    private async Task LoadPage()
    {
        await GetVoucherNo();
        // voucherItemList = new List<VoucherItem>();
        visibletext = 0;
        MyProperty = "Dr";
        totalDebit = 0;
        totalCredit = 0;
        onDisable(MyProperty);
        StateHasChanged();
    }
    private async Task GetVoucherNo()
    {
        accCompanyVoucherModel.COMP_REF_NO = await Http.GetStringAsync(Utility.BaseUrl + "api/Transection/GetVoucherNo/" + 1);
    }
    private void Keypress(KeyboardEventArgs args)
    {
        string value;
        value = args.Key;
        itemName = value;
        //if (value == "c" || value == "C")
        //{ MyProperty = "Cr"; }
        //else if (value == "d" || value == "D")
        //{ MyProperty = "Dr"; }
        //StateHasChanged();
        //onDisable(MyProperty);
    }
    private void onDisable(string property)
    {
        if (property == "Dr")
        {
            this.isDrDisable = false;
            this.isCrDisable = true;
            MyCrValue = "";
        }
        else if (property == "Cr")
        {
            this.isCrDisable = false;
            this.isDrDisable = true;
        }

    }

    private async Task GetSelectedValue(ChangeEventArgs change)
    {
        if (change.Value.ToString() == "Bank Accounts") { bankStatus = 1; }
    }
    //private void Enter(KeyboardEventArgs e)
    //private void Enter()
    //{
    //    //if (e.Key == "Enter")
    //    {
    //        if (!string.IsNullOrWhiteSpace(newTodo))
    //        {
    //            //todos.Add(new TodoItem { Title = newTodo });
    //            //newTodo = string.Empty;
    //        }
    //    }
    //}
    private void UnitClicked(ChangeEventArgs change)
    {
        unitId = Convert.ToInt32(change.Value.ToString());
        unitName = unitList.Find(x => x.UNIT_ID == unitId).UNIT_NAME;
    }
    private async void DoTheThing(KeyboardEventArgs eventArgs)
    {
        if (eventArgs.Key == "Enter")
        {
            int u = unitId;//itemdetails.UNIT_ID;

            itemdetails = new PurchaseOrderDetailsEntity();
            itemdetails.ITEM_NAME = itemName;
            itemdetails.UNIT_ID = u; //unitId;
            itemdetails.UOM = unitList.Find(x => x.UNIT_ID == unitId).UNIT_NAME;//unitName;

            itemdetails.QUANTITY = Convert.ToDouble(Qty);
            itemdetails.UNIT_PRICE = Convert.ToDouble(Rate);
            itemdetails.TOTAL_AMOUNT = Convert.ToString(totalAmount);

            voucherItemList.Add(itemdetails);


            GetTotal();

            itemName = "";
            Qty = 0;
            Rate = 0;
            totalAmount = 0;
            unitId =0;
            unitName = "";
            //itemdetails.UNIT_ID =0;


            //paymentvoucher.symbol = MyProperty;
            //paymentvoucher.particular = SelectedString; //SelectedArticle.LEDGER_NAME;
            //if (paymentvoucher.particular == "" || paymentvoucher.particular == null)
            //{
            //    toastService.ShowWarning("Please Add Particular");
            //}
            //else
            //{
            //    //if (MyProperty == "Dr")
            //    //{
            //    //    paymentvoucher.debitAmount = Convert.ToDecimal(MyDrValue);
            //    //}
            //    //if (MyProperty == "Cr")
            //    //{
            //    //    paymentvoucher.creditAmount = Convert.ToDecimal(MyCrValue);
            //    //}
            //    //if (chequeNo != "" && chequeNo != null)
            //    //{
            //    //    paymentvoucher.ChequeNo = chequeNo;
            //    //    paymentvoucher.ChequeDate = Convert.ToDateTime(voucherChequedate);
            //    //    paymentvoucher.DrawnOn = drawnon;

            //    //}
            //    //else
            //    //{
            //    //    paymentvoucher.ChequeNo = "NULL";
            //    //    paymentvoucher.ChequeDate = Convert.ToDateTime("1900-01-01");
            //    //    paymentvoucher.DrawnOn = "NULL";
            //    //}




            //    //totalDebit = voucherItemList.Sum(item => item.debitAmount);
            //    //totalCredit = voucherItemList.Sum(item => item.debitAmount); //voucherItemList.Sum(item => item.creditAmount);


            //    //bool exists = voucherItemList.Exists(x => x.symbol == "Cr");

            //    //if (exists != true)
            //    //{
            //    //    MyProperty = "Cr";
            //    //    //double total = myList.Sum(item => item.Amount);
            //    //    MyCrValue = Convert.ToString(voucherItemList.Sum(item => item.debitAmount));
            //    //    //SelectedArticle.LEDGER_NAME = "";
            //    //    //SelectedString = "";
            //    //    MyDrValue = "";
            //    //    bankStatus = 0;
            //    //    chequeNo = "";
            //    //    drawnon = "";

            //    //    onDisable(MyProperty);
            //    //    await myref.FocusAsync();

            //    //}
            //    //else
            //    //{
            //    //    visibletext = 1;
            //    //    StateHasChanged();
            //    //    MyProperty = "";
            //    //    //SelectedArticle.LEDGER_NAME = "";
            //    //    SelectedString = "";
            //    //    MyDrValue = "";
            //    //    MyCrValue = "";
            //    //    bankStatus = 0;
            //    //    chequeNo = "";
            //    //    drawnon = "";

            //    //    await narrationref.FocusAsync();
            //    //}
            //}
        }
    }
    //public void Enter(KeyboardEventArgs e)
    //{
    //    if (e.Code == "Enter" || e.Code == "NumpadEnter")
    //    {
    //        // ...
    //        KeyPressed = "Key Pressed is " + this.Value;

    //        //amount = e.Key;
    //        paymentvoucher = new VoucherItem();
    //        paymentvoucher.symbol = MyProperty;
    //        paymentvoucher.particular = SelectedArticle.LEDGER_NAME;
    //        if (MyProperty == "Dr")
    //        {
    //            paymentvoucher.debitAmount = amount;
    //        }
    //        if (MyProperty == "Cr")
    //        {
    //            paymentvoucher.creditAmount = amount;
    //        }

    //        voucherItemList.Add(paymentvoucher);



    //    }
    //}
    //public class VoucherItem
    //{
    //    public string symbol { get; set; }
    //    public string particular { get; set; }
    //    public decimal debitAmount { get; set; }
    //    public decimal creditAmount { get; set; }
    //    public string ChequeNo { get; set; }
    //    //public DateTime ChequeDate { get; set; }
    //    public Nullable<DateTime> ChequeDate { get; set; }

    //    public string DrawnOn { get; set; }
    //}
    private async void GetDate(ChangeEventArgs change)
    {
        selected_date = change.Value.ToString();
        porderModel.PO_DATE = Convert.ToDateTime(selected_date).Day.ToString().PadLeft(2, '0') + "/" + Convert.ToDateTime(selected_date).Month.ToString().PadLeft(2, '0') + "/" + Convert.ToDateTime(selected_date).Year;
    }

    private async void GetChequeDate(ChangeEventArgs change)
    {
        voucherChequedate = change.Value.ToString();

    }
    void CloseClicked() { UriHelper.NavigateTo("PaymentVoucherList"); }
    private void SelectItem(string item)
    {
        itemName = item;

    }
    private void SelectSupplierItem(string item)
    {
        supplierName = item;

    }
    public async void DeleteItem(string item)
    {
        var itemToRemove = voucherItemList.Single(r => r.ITEM_NAME == item);
        voucherItemList.Remove(itemToRemove);
        GetTotal();



        StateHasChanged();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager UriHelper { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime jsruntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IToastService toastService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
namespace __Blazor.TOCOMA_ERP_System.Pages.Project.PurchaseforProject
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateInputSelect_0<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, System.Object __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg2, int __seq3, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg3, int __seq4, global::Microsoft.AspNetCore.Components.RenderFragment __arg4)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputSelect<TValue>>(seq);
        __builder.AddAttribute(__seq0, "class", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ValueChanged", __arg2);
        __builder.AddAttribute(__seq3, "ValueExpression", __arg3);
        __builder.AddAttribute(__seq4, "ChildContent", __arg4);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
