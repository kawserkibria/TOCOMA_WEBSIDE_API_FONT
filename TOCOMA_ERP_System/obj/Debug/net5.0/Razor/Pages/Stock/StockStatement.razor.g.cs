#pragma checksum "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "a4e3f64df574a94e3b03924a28f82b7afacba94a"
// <auto-generated/>
#pragma warning disable 1591
namespace TOCOMA_ERP_System.Pages.Stock
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_ClassLibrary.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Blazored.Toast;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System.Controller;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.ProtectedBrowserStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using TOCOMA_ERP_System.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\_Imports.razor"
using Microsoft.AspNetCore.Hosting;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.LayoutAttribute(typeof(CustomLayout))]
    [Microsoft.AspNetCore.Components.RouteAttribute("/StockStatement")]
    public partial class StockStatement : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "card");
            __builder.AddMarkupContent(2, "<div class=\"card-header\"><h3>STOCK IN & OUT STATEMENT</h3></div>\r\n\r\n    <br>\r\n\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "testbox");
            __builder.OpenElement(5, "div");
            __builder.AddAttribute(6, "class", "tablearea");
            __builder.OpenElement(7, "table");
            __builder.AddAttribute(8, "id", "example");
            __builder.AddAttribute(9, "class", "display");
            __builder.AddAttribute(10, "style", "width:100%");
            __builder.AddMarkupContent(11, @"<thead><tr><td scope=""col"" rowspan=""2"">Date</td>
                        <td scope=""col"" rowspan=""2"">Description</td>
                        <td scope=""col"" rowspan=""2"">Customer/Supplier Name</td>
                        <td scope=""col"" rowspan=""2"">Item Name</td>
                        <td scope=""col"" rowspan=""2"">Pack Size</td>
                        <td scope=""col"" rowspan=""2"">UOM</td>
                        <td scope=""col"" colspan=""2"">Stock In Details</td>
                        <td scope=""col"" colspan=""3"">Stock Out Details</td>
                        <td scope=""col"" rowspan=""2"">Remarks</td></tr>
                    <tr><td scope=""col"">Quantity</td>
                        <td scope=""col"">Documents No.</td>
                        <td scope=""col"">Gate<br> Pass No.</td>
                        <td scope=""col"">Delivery<br>Note No.</td>
                        <td scope=""col"">Quantity</td></tr></thead>
                ");
            __builder.OpenElement(12, "tbody");
#nullable restore
#line 42 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                     if (stockList != null)
                    {
                        foreach (var item in stockList)
                        {
                            string itm = item.ITEM_NAME;
                            string pack = item.PACK_SIZE;
                            string uom = item.UOM;
                            string qty = item.STOCK_IN_QUANTITY;


                            var itemsplitted = itm.Split(",").ToList<string>();
                            var packsplitted = pack.Split(",").ToList<string>();
                            var uomplitted = uom.Split(",").ToList<string>();
                            var qtysplitted = qty.Split(",").ToList<string>();

#line default
#line hidden
#nullable disable
            __builder.OpenElement(13, "tr");
            __builder.OpenElement(14, "td");
            __builder.AddAttribute(15, "scope", "col");
            __builder.AddContent(16, 
#nullable restore
#line 57 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.TRANSECTION_DATE

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(17, "\r\n                                ");
            __builder.OpenElement(18, "td");
            __builder.AddAttribute(19, "scope", "col");
            __builder.AddContent(20, 
#nullable restore
#line 58 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.DESCRIPTION

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(21, "\r\n                                ");
            __builder.OpenElement(22, "td");
            __builder.AddAttribute(23, "scope", "col");
            __builder.AddContent(24, 
#nullable restore
#line 59 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.CUSTOMER_SUPPLIER

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n\r\n                                ");
            __builder.OpenElement(26, "td");
            __builder.AddAttribute(27, "scope", "col");
            __builder.AddAttribute(28, "class", "i");
#nullable restore
#line 62 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                     foreach (var s in itemsplitted)
                                    {
                                        

#line default
#line hidden
#nullable disable
            __builder.AddContent(29, 
#nullable restore
#line 64 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                         s

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(30, " <br>");
#nullable restore
#line 65 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(31, "\r\n                                ");
            __builder.OpenElement(32, "td");
            __builder.AddAttribute(33, "scope", "col");
            __builder.AddAttribute(34, "class", "i");
#nullable restore
#line 68 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                     foreach (var s in packsplitted)
                                    {
                                        

#line default
#line hidden
#nullable disable
            __builder.AddContent(35, 
#nullable restore
#line 70 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                         s

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(36, " <br>");
#nullable restore
#line 71 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\r\n                                ");
            __builder.OpenElement(38, "td");
            __builder.AddAttribute(39, "scope", "col");
            __builder.AddAttribute(40, "class", "i");
#nullable restore
#line 74 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                     foreach (var s in uomplitted)
                                    {
                                        

#line default
#line hidden
#nullable disable
            __builder.AddContent(41, 
#nullable restore
#line 76 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                         s

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(42, " <br>");
#nullable restore
#line 77 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(43, "\r\n                                ");
            __builder.OpenElement(44, "td");
            __builder.AddAttribute(45, "scope", "col");
            __builder.AddAttribute(46, "class", "i");
#nullable restore
#line 80 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                     foreach (var s in qtysplitted)
                                    {
                                        

#line default
#line hidden
#nullable disable
            __builder.AddContent(47, 
#nullable restore
#line 82 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                         s

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(48, " <br>");
#nullable restore
#line 83 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(49, "\r\n\r\n\r\n                                ");
            __builder.OpenElement(50, "td");
            __builder.AddAttribute(51, "scope", "col");
            __builder.AddContent(52, 
#nullable restore
#line 91 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.DOCUMENTS_NO

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(53, "\r\n                                ");
            __builder.OpenElement(54, "td");
            __builder.AddAttribute(55, "scope", "col");
            __builder.AddContent(56, 
#nullable restore
#line 92 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.GATE_PASS_NO

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(57, "\r\n                                ");
            __builder.OpenElement(58, "td");
            __builder.AddAttribute(59, "scope", "col");
            __builder.AddContent(60, 
#nullable restore
#line 93 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.DELIVERY_NOTE_NO

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(61, "\r\n                                ");
            __builder.OpenElement(62, "td");
            __builder.AddAttribute(63, "scope", "col");
            __builder.AddContent(64, 
#nullable restore
#line 94 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.STOCK_OUT_QUANTITY

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\r\n                                ");
            __builder.OpenElement(66, "td");
            __builder.AddAttribute(67, "scope", "col");
            __builder.AddContent(68, 
#nullable restore
#line 95 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                                                 item.REMARKS

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 97 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
                        }
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 125 "G:\TOCOMA\TOCOMA_ERP_System\TOCOMA_ERP_System\Pages\Stock\StockStatement.razor"
       
    List<PurchaseOrderViewModel> poList = new List<PurchaseOrderViewModel>();
    List<PurchaseOrderViewModel> pOrderView = new List<PurchaseOrderViewModel>();
    PurchaseOrderViewModel poModel = new PurchaseOrderViewModel();
    List<StockModel> stockList = new List<StockModel>();
    DateTime PO_FROM_DATE = System.DateTime.Now;
    DateTime PO_TO_DATE = System.DateTime.Now;
    string reportType;

    protected override async Task OnInitializedAsync()
    {
        await GetStock();
        StateHasChanged();
        await JSRuntime.InvokeAsync<object>("TestDataTablesAdd", "#example");
    }
    private async Task GetStock()
    {
        stockList = await Http.GetJsonAsync<List<StockModel>>(Utility.BaseUrl + "api/Stock/GetStockStatement");
    }

    protected async Task GetData()
    {
        if (reportType == "2")
        {
            //await GetPODetailsItemByPOID(PO_FROM_DATE, PO_TO_DATE);
            pOrderView = await Http.GetJsonAsync<List<PurchaseOrderViewModel>>(Utility.BaseUrl + "api/Purchase/GetPurchaseOrderIdByPurchaseDate/" + PO_FROM_DATE + "/" + PO_TO_DATE);
        }
        else if (reportType == "3")
        {
            await GetDailyPurchaseStatement(PO_FROM_DATE, PO_TO_DATE);
        }

    }
    private async Task PrintOption()
    {
        if (reportType == "1") { await Http.PostJsonAsync("https://localhost:44350/Report/PurchaseOrder", poModel); }
        else if (reportType == "2")
        {
            await GetPODetailsItemByPOID(PO_FROM_DATE, PO_TO_DATE);
            await Http.PostJsonAsync("https://localhost:44350/Report/PurchaseOrderTracker", pOrderView);
        }
        else if (reportType == "3")
        {
            await GetDailyPurchaseStatement(PO_FROM_DATE, PO_TO_DATE);
            await Http.PostJsonAsync("https://localhost:44350/Report/PurchaseOrderTracker", pOrderView);
        }
    }
    private async Task GetDailyPurchaseStatement(DateTime date1, DateTime date2)
    {
        pOrderView = await Http.GetJsonAsync<List<PurchaseOrderViewModel>>(Utility.BaseUrl + "api/Purchase/GetDailyPurchaseStatementByDate/" + date1 + "/" + date2);
    }
    private async Task GetPODetailsItemByPOID(DateTime date1, DateTime date2)
    {
        //pOrderView = await Http.GetJsonAsync<List<PurchaseOrderViewModel>>(Utility.BaseUrl + "api/Purchase/GetPurchaseOrderByPOId/" + poId);
        pOrderView = await Http.GetJsonAsync<List<PurchaseOrderViewModel>>(Utility.BaseUrl + "api/Purchase/GetPurchaseOrderIdByPurchaseDate/" + date1 + "/" + date2);

        //foreach (var p in pOrderView)
        //{
        //    //purchaseOrderDetailsListByPO_Id = new List<PurchaseOrderDetailsEntity>();
        //    //purchaseOrderDetailsListByPO_Id = await Http.GetJsonAsync<List<PurchaseOrderDetailsEntity>>(Utility.BaseUrl + "api/Purchase/GetPurchaseOrderDetailsByPO_ID/" + p.PO_ID);
        //    if (!checkedPOIds.Contains(Convert.ToString(p.PO_ID)))
        //    {
        //        checkedPOIds.Add(Convert.ToString(p.PO_ID));
        //    }
        //    str = String.Join(",", checkedPOIds);

        //    //p.pOrderDetailsList= purchaseOrderDetailsListByPO_Id.FindAll(x => x.PO_ID == p.PO_ID);

        //    //p.pOrderDetailsList = await Http.GetJsonAsync<List<PurchaseOrderDetailsEntity>>(Utility.BaseUrl + "api/Purchase/GetPurchaseOrderDetailsByPO_ID/" + poId);
        //}
        //purchaseOrderDetailsListByPO_Id = await Http.GetJsonAsync<List<PurchaseOrderDetailsEntity>>(Utility.BaseUrl + "api/Purchase/GetPurchaseOrderDetailsBYPO_ID_IN/" + str);
        //foreach (var p in pOrderView)
        //{
        //    p.pOrderDetailsList = new List<PurchaseOrderDetailsEntity>();
        //    p.pOrderDetailsList = purchaseOrderDetailsListByPO_Id.FindAll(x => x.PO_ID == p.PO_ID);

        //}
        ////p.pOrderDetailsList = purchaseOrderDetailsListByPO_Id.FindAll(x => x.PO_ID == p.PO_ID);
        this.StateHasChanged();


    }
    async void CheckboxClicked(string poId, object checkedValue)
    {
        if ((bool)checkedValue)
        {
            await GetPOItemByPOID(poId);
            //if (!checkedBrandIds.Contains(poId))
            //{
            //    checkedBrandIds.Add(poId);
            //}
        }
        //else
        //{
        //    if (checkedBrandIds.Contains(poId))
        //    {
        //        checkedBrandIds.Remove(poId);
        //    }
        //}
        //str = String.Join(",", checkedBrandIds);



    }
    protected async void ReportType_Clicked(ChangeEventArgs categoryevent)
    {
        //pOrderView.REPORT_TYPE = categoryevent.Value.ToString();
        reportType = categoryevent.Value.ToString();
        this.StateHasChanged();
    }
    private async Task GetPOItemByPOID(string poId)
    {
        poModel = await Http.GetJsonAsync<PurchaseOrderViewModel>(Utility.BaseUrl + "api/Purchase/GetPurchaseOrderByPOId/" + poId);
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
#pragma warning restore 1591
